<!-- <input class="search-bar" placeholder="Search"(keyup)="search(input.value)" #input> -->

<!-- <journeys-list *ngIf="filtered" [journeys]="filtered"></journeys-list> -->
<!-- [routerLink]="['/journey', journey.$key]" -->

<button (click)="showNewMoal()">New</button>

<table class="table">
    <tbody>
    <tr *ngFor="let journey of journeys" 
    	[class.selected] = "journey === selectedJourney"
    	(click)="viewJourneyDetails(journey.$key)"
    >
        <td>{{ journey.$key }}</td>
    	<td>
    		{{ journey.company_name }}</td>
        <td>{{ journey.depart_date }}</td>
        <!-- <td>{{ journey.company_id }}</td>
        <td>{{ journey.trip_title }} </td> -->
        
    </tr>
    </tbody>
</table>
<!-- model -->
<!-- <journey-form [journey]="selectedJourney"></journey-form> -->

	<div bsModal #childModal="bs-modal" class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	  <div class="modal-dialog" role="document"  *ngIf="journeyLoaded">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="hideChildModal()"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="myModalLabel">{{selectedJourney.trip_title}}</h4>
	      </div>
	      <div class="modal-body">
	        
			  <!-- <div><label>id: </label>{{selectedJourney.$key}}</div> -->
			  <!-- <div>
			    	    
			  </div> -->
				  <form ngNoForm method="post">
					  <div class="form-group">
	            <div class="row">
	                <div class="col-xs-6">
	                    <label class="control-label"><i class="fa fa-calendar-o" aria-hidden="true"></i>Time Start</label>
	                    <input type="text" class="form-control" [(ngModel)]="selectedJourney.depart_date" disabled />
	                </div>

	                <div class="col-xs-6">
	                    <label class="control-label"><i class="fa fa-calendar-check-o" aria-hidden="true"></i>Time End</label>
	                    <input type="text" class="form-control" [(ngModel)]="selectedJourney.depart_time" disabled />
	                </div>
	                
	            </div>
	        	</div>
	        	<div class="form-group">
	            <div class="row">
	                <div class="col-xs-6">
	                	<select [(ngModel)]="selectedJourney.$key">
									  <option *ngFor="let journey of journeys" value= {{journey.key}}>
									     {{journey.$key}}
									  </option>
									</select>
	                </div>
	            </div>
	          </div>
		      </form>

	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="hideChildModal()">Close</button>
	        <button type="button" class="btn btn-primary" (click)="save">Save changes</button>
	      </div>
	    </div>
	  </div>
	</div>


<!-- new modal -->
<div bsModal #newModal="bs-modal" class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	  <div class="modal-dialog" role="document" >
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="hideNewModal()"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="myModalLabel">Create New Journey</h4>
	      </div>
	      <div class="modal-body">
	        
				  <form [formGroup]="newForm" autocomplete="off" novalidate class="new-journey-form">
				  	<div class="form-group">
	            <div class="row">
	                <div class="col-xs-6">
	                    <label class="control-label"><i class="fa fa-calendar-o" aria-hidden="true"></i>Date</label>
	                    <input type="text" class="form-control" name="depart_date" formControlName="depart_date">
	                    
	                </div>

	                <div class="col-xs-6">
	                    <label class="control-label"><i class="fa fa-calendar-check-o" aria-hidden="true"></i>Time </label>
	                    <input name="depart_time" class="form-control" formControlName="depart_time">
	                    
	                </div>
	                
	            </div>
	            </div>
	            <div class="form-group">
		            <div class="row">
		                <!-- <div class="col-xs-6">
		                	<label class="control-label"><i class="fa fa-calendar-check-o" aria-hidden="true"></i>Company Name </label>
		                	<input name="company_name" class="form-control"  formControlName="company_name">
		                	
		                </div> -->
		                <div class="col-xs-6">
		                	<label class="control-label"><i class="fa fa-calendar-check-o" aria-hidden="true"></i>Vehicle </label>
		                	<select name="trips" class="form-control" formControlName="vehicle_id" >
		                <option  *ngFor="let vehicle of vehicles" [ngValue]="vehicle.$key" >
		                {{vehicle.number}}
		                </option>
		            </select>
		                </div>
		            </div>
		          </div>
	        	

		        

		</form>

	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="hideNewModal()">Close</button>
	        <button type="button" class="btn btn-primary" (click)="save(newForm)">Save changes</button>
	      </div>
	    </div>
	  </div>
	</div>